# SpineToBlender
Read spine file in Blender 3D

## これは何？
  Blenderで、Spine形式ファイルを読めるようにするスクリプトです。


#### Spine形式って何さ？
  https://ja.esotericsoftware.com/  
  ゲーム用2Dアニメーションツール「Spine」に読み込むためのファイルのベースです


#### 何が出来るの？
  複数の画像を、相対位置情報を持ったまま、Blender内に取り込むことができます。
  以下の機能があります。

  * 画像を取り込み、画像サイズからメッシュを自動作成する機能
  * 上記で作成されたメッシュにマテリアルを割り当て、テクスチャとして画像を貼る機能
  * ボーンの自動作成、及びウェイトの割り当て機能


#### それで何が嬉しいの？
  メッシュにマテリアルとウェイトとボーンを持った状態で取り込まれるので、即キーフレームアニメーション制作が出来ます


####　できないこと（できていないこと）
  * ボーンの階層構造（将来的にも無理）
  * ボーンの上下反転や左右方向への設置
  * その他思いついていない機能


## 利用方法
  1. Blenderを起動して、スクリプトタブ⇒リポジトリのPyファイルを読み込ませてください。
  2. 実行ボタンを押すとJsonファイルの選択になります。下記手順等で作成されたSpine形式のJsonを選択してください。
  3. あとはフィーリングで、がんばれ。



## Spine形式ってどうやって作るの？
  <s>photoshopにもプラグインがありますが</s>
  Affinity に、エクスポート機能が標準であります！
  [https://www.affinity.studio/ja_jp](https://www.affinity.studio/ja_jp)

#### Affinity でのSpine形式のエクスポート方法
 
1. サンプルファイルをダウンロードしてください
2. Affinity を起動し、１でDLしたファイルを読み込ませてください
3. 左上の５つ並んでいるスタジオモードボタンから「スライス」スタジオを選択します。「スライス」が表示されていなかった場合、：のボタンから「スライス」を選択します。
4. スライススタジオ画面になったら、まず右側「書き出しオプション」で「モード」を「デフォルト」に、「プリセット」で「PNG」を選択します
5. 下段のスライス（レイヤー）ウィンドウで、「レイヤーをエクスポート」タブを選択し、「Output」が閉じていたら選択して開いた状態にして、レイヤーの中身を選択します（ctrl や shiftを利用できます）
6. グループの下のレイヤーがすべて選択できたら、「スライスの作成」を押します
7. 「スライス」のタブに移動し、「一括ビルダー」で「Spine Json」を選択します
8. 「スライスを書き出し」を押して、出力先フォルダを選択して出力します（新品のフォルダを都度作成することをオススメ）

#### (old) Affinity Photo 2でのSpine形式のエクスポート方法
 
1. サンプルファイルをダウンロードしてください
2. AffinityPhoto2を起動し、１でDLしたファイルを読み込ませてください
3. 左上の５つ並んでいるボタンの右端「書き出しペルソナ」を選択します
4. 書き出しペルソナ画面になったら、まず右側「エクスポートオプション」で「モード」を「デフォルト」に、「プリセット」で「PNG」を選択します
5. 下段のレイヤーウィンドウで、「Output」が閉じていたら選択して開いた状態にして、レイヤーの中身を選択します（ctrl や shiftを利用できます）
6. グループの下のレイヤーがすべて選択できたら、「スライスの作成」を押します
7. 「スライス」のタブに移動し、「一括ビルダー」で「Spine Json」を選択します
8. 「スライスを書き出し」を押して、出力先フォルダを選択して出力します（新品のフォルダを都度作成することをオススメ）



###### サンプルファイルについて
  サンプルのaffinityPhoto形式ファイルは、再配布さえしなければ勝手にどうぞ。
  
